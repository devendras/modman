<?php
 class Omx_Hooks_Model_Xml_Giftcertificate_Information_Request extends Omx_Hooks_Model_Xml_Abstract { protected $_certCode; protected $_root; public function __construct($certCode) { parent::__construct(); $this->_certCode = $certCode; $this->createRootElement(); $this->appendUdiParams(); } protected function createRootElement () { $rootElement = $this->createSafeElement('GiftCertificateInformationRequest'); $versionAttribute = $this->xml->createAttribute('version'); $rootElement->appendChild( $versionAttribute ); $rootAttributeValue = $this->xml->createTextNode('1.00'); $versionAttribute->appendChild($rootAttributeValue); $rootElement = $this->xml->appendChild($rootElement); $this->_root = $rootElement; } protected function appendUdiParams () { $UDIParameter = $this->_root->appendChild( $this->createSafeElement('UDIParameter') ); $giftCertificateCode = $this->createSafeElement('Parameter', $this->_certCode); $giftCertificateCodeAttribute = $this->xml->createAttribute('key'); $giftCertificateCodeAttributeValue = $this->xml->createTextNode('GiftCertificateCode'); $giftCertificateCodeAttribute->appendChild($giftCertificateCodeAttributeValue); $giftCertificateCode->appendChild( $giftCertificateCodeAttribute); $UDIParameter->appendChild ($giftCertificateCode); } }