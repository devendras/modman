<?php
 class Omx_Hooks_Model_Xml_Customer_History_Request extends Omx_Hooks_Model_Xml_Abstract { private $_customerNumber; protected $_root; public function __construct ($customerNumber) { parent::__construct(); $this->_customerNumber = $customerNumber; $this->createRootElement(); $this->appendUdiParams(); } protected function createRootElement () { $rootElement = $this->createSafeElement('CustomerHistoryRequest'); $rootVersionElement = $this->xml->createAttribute('version'); $rootElement->appendChild( $rootVersionElement ); $rootVersionValue = $this->xml->createTextNode('2.00'); $rootVersionElement->appendChild($rootVersionValue); $this->xml->appendChild($rootElement); $this->_root = $rootElement; } protected function appendUdiParams () { $udiParameter = $this->_root->appendChild($this->createSafeElement('UDIParameter')); $customerNumberElement = $this->createSafeElement('Parameter', $this->_customerNumber); $customerNumberElementAttributeText = $this->xml->createTextNode('CustomerNumber'); $customerNumberElementKeyAttribute= $this->xml->createAttribute('key'); $customerNumberElementKeyAttribute->appendChild($customerNumberElementAttributeText); $customerNumberElement->appendChild($customerNumberElementKeyAttribute); $udiParameter->appendChild ($customerNumberElement); $levelElement = $this->createSafeElement('Parameter', '2'); $levelAttributeText = $this->xml->createTextNode('level'); $levelAttribute = $this->xml->createAttribute('key'); $levelAttribute->appendChild($levelAttributeText); $levelElement->appendChild($levelAttribute); $udiParameter->appendChild($levelElement); } }