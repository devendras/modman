<?php
 class Omx_Hooks_Block_Admin_View_Form extends Mage_Adminhtml_Block_Widget_Form { protected function _prepareForm () { $form = new Varien_Data_Form(array( 'id' => 'edit_form', 'action' => $this->getUrl('*/*/save', array()), 'method' => 'post' )); $fieldset = $form->addFieldset('view_omx_entry', array('legend' => Mage::helper('hooks')->__('OMX entry request details'))); $fieldset->addField( 'order_id', 'text', array( 'name' => 'order_id', 'title' => Mage::helper('hooks')->__('Magento Order ID'), 'label' => Mage::helper('hooks')->__('Magento Order ID'), 'required' => false, 'value' => $this->getData('order_id'), 'disabled' => 'disabled' )); $fieldset->addField( 'parent_id', 'text', array( 'name' => 'parent_id', 'title' => Mage::helper('hooks')->__('Parent ID'), 'label' => Mage::helper('hooks')->__('Parent ID'), 'required' => false, 'value' => $this->getData('parent_id'), 'disabled' => 'disabled' ) ); $fieldset->addField( 'resubmited', 'text', array( 'name' => 'resubmited', 'title' => Mage::helper('hooks')->__('Resubmited'), 'label' => Mage::helper('hooks')->__('Resubmited'), 'required' => false, 'value' => $this->getData('resubmited'), 'disabled' => 'disabled' ) ); $fieldset->addField( 'xml_string', 'textarea', array( 'name' => 'xml_string', 'title' => Mage::helper('hooks')->__('XML string (without CC info)'), 'label' => Mage::helper('hooks')->__('XML string (without CC info)'), 'required' => false, 'value' => $this->getData('xml_string') ) ); $fieldset->addField( 'response', 'textarea', array( 'name' => 'response', 'title' => Mage::helper('hooks')->__('OMX Response string (without CC info)'), 'label' => Mage::helper('hooks')->__('OMX Response string (without CC info)'), 'required' => false, 'value' => $this->getData('response') ) ); $form->setUseContainer(true); $defaultValues = $this->_getDefaultValues(); $form->addValues ( $defaultValues ); $this->setForm($form); return parent::_prepareForm(); } private function _getDefaultValues () { return $this->getParentBlock()->getData(); } }