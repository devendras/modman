<?php  abstract class Omx_Hooks_Controller_Abstract extends Mage_Core_Controller_Front_Action { protected $_redirectPath = array( 'paypal_express' => 'paypal/express/review', 'cart' => 'checkout/cart', ); protected $_redirect = 'checkout/cart'; protected $_params; protected $_post = array(); protected function setRedirectDesitination($path = '') { if($path == '') { if(array_key_exists('redirect', $this->_params)) { if(array_key_exists($this->_params['redirect'], $this->_redirectPath)) { $this->_redirect = $this->_redirectPath[$this->_params['redirect']]; } } } else { $this->_redirect = $path; } } public function preDispatch() { parent::preDispatch(); $this->_params = $this->getRequest()->getParams(); $this->_post = $this->getRequest()->getPost(); } }